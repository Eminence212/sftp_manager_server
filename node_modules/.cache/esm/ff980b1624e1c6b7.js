_24e‍.x([["createLocalDirectory",()=>createLocalDirectory],["deleteLocalDirectory",()=>deleteLocalDirectory],["updateLocalDirectory",()=>updateLocalDirectory]]);const path = require("path");
const fs = require("fs");
const fsPromises = require("fs/promises");
const urlBase = path.join(__dirname, "..", "files");

       const createLocalDirectory = (customer_name, folder_names = []) => {
  try {
    fs.mkdir(path.join(urlBase, customer_name), () => {
      folder_names.map((name) => {
        const folder = path.join(urlBase, customer_name, name);
        fs.mkdir(folder, (resp) => {});
      });
    });
  } catch (error) {
    console.log(`${error} `);
  }
};

       const deleteLocalDirectory = (customer_name) => {
  try {
    fs.rm(
      path.join(urlBase, customer_name),
      { recursive: true, force: true },
      (rep) => {}
    );
  } catch (error) {
    console.log(`${error} `);
  }
};
       const updateLocalDirectory = async (curr_name, new_name) => {
  const currPath = path.join(urlBase, curr_name);
  const newPath = path.join(urlBase, new_name);
  try {
    fs.rename(
      currPath,
      newPath,

      (err) => {
        if (err) throw err;
        console.log("Rename complete!");
      },
      {
        force: true,
      }
    );
  } catch (error) {
    console.log(`${error} `);
  }
};
